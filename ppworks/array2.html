<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../../css/style.css">
<link rel="stylesheet" href="../../css/prism_coy.css">
<script type="text/javascript" src='../../js/prism.js'></script>
<script type="text/javascript" src='../../js/custom.js'></script>
<title>【paiza問題集 解説】配列活用メニュー</title>
<div class="homebtn"><a href="../" id="homeBtn">🔙</a></div>
<div class="topbtn"><a href="#" id="topBtn" onclick="closeAllAccordions()">🔝</a></div>
</head>
<body>
<header id="top"><h1>【paiza問題集 解説】<br>配列活用メニュー</h1></header>
<main>

<section>
<details id="c1"><summary>【配列を参照する操作】全ての要素に対する操作</summary>
<header><h2>【配列を参照する操作】全ての要素に対する操作</h2></header>

<article>
<details id="c1-1"><summary>STEP: 1 指定の要素のカウント</summary>
<header><h3>指定の要素のカウント</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_, K = map(int, input().split())
A = list(map(int, input().split()))
print(a.count(K))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの中の値の数を数える時は<strong class="func">.count()</strong>メソッドを使います。「配列メニュー」の問題を終えた方なら楽勝だったことでしょう。👍</p>
</ul>
<footer><a class="backto" href="#c1-1" onclick="closeAccordion('c1-1')">STEP: 1 指定の要素のカウント</a></footer>
</details>
</article>

<article>
<details id="c1-2"><summary>STEP: 2 全ての要素の和</summary>
<header><h3>全ての要素の和</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_ = int(input())
A = list(map(int, input().split()))
print(sum(a))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの総和を求める時には<strong class="func">sum()</strong>関数を使います。リスト型変数を１つ引数として与えるだけで数値を全て足し算してくれます。</p>
</ul>
<footer><a class="backto" href="#c1-2" onclick="closeAccordion('c1-2')">STEP: 2 全ての要素の和</a></footer>
</details>
</article>

<article>
<details id="c1-3"><summary>STEP: 3 配列の最大値</summary>
<header><h3>STEP: 3 配列の最大値</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_ = int(input())
A = list(map(int, input().split()))
print(max(a))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの中から最大値を見つける時は<strong class="func">max()</strong>関数を使います。</p>
</ul>
<footer><a class="backto" href="#c1-3" onclick="closeAccordion('c1-3')">STEP: 3 配列の最大値</a></footer>
</details>
</article>

<article>
<details id="c1-4"><summary>STEP: 4 配列の最小値</summary>
<header><h3>配列の最小値</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_ = int(input())
A = list(map(int, input().split()))
print(min(a))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの中から最小値を見つける時は<strong class="func">min()</strong>関数を使います。</p>
</ul>
<footer><a class="backto" href="#c1-4" onclick="closeAccordion('c1-4')">STEP: 4 配列の最小値</a></footer>
</details>
</article>

<article>
<details id="c1-5"><summary>STEP: 5 指定要素があるかの判定</summary>
<header><h3>指定要素があるかの判定</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_, K = map(int, input().split())
A = list(map(int, input().split()))

if K in A:
    print('Yes')
else:
    print('No')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_, K = map(int, input().split())
A = list(map(int, input().split()))
print('Yes' if K in A else 'No')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの中から特定の値を探す時は<strong class="if"></strong> ～ <strong>in</strong> を使います。</p>
</ul>
<footer><a class="backto" href="#c1-5" onclick="closeAccordion('c1-5')">STEP: 5 指定要素があるかの判定</a></footer>
</details>
</article>

<article>
<details id="c1-6"><summary>STEP: 6 指定要素の先頭位置</summary>
<header><h3>指定要素の先頭位置</h3></header>
<ul>
  <li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_, K = map(int, input().split())
A = list(map(int, input().split()))

if K in A:
    print(A.index(K))
else:
    print(-1)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">_, K = map(int, input().split())
A = list(map(int, input().split()))
print(A.index(K) if K in A else -1)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p><strong class="func">.index()</strong>メソッドは、特定の値が含まれている場合にその要素番号を返します。</p>
<p>「含まれていない場合は -1 を出力」とあるので<strong class="func">.find()</strong>メソッドを使いたいところですが、リスト型には<strong class="func">.find()</strong>メソッドは<strong>存在しません。</strong><br>仕方がないので自分で -1 を画面に出力して対処します。</p>
</ul>
<footer><a class="backto" href="#c1-6" onclick="closeAccordion('c1-6')">STEP: 6 指定要素の先頭位置</a></footer>
</details>
</article>

<article>
<details id="c1-7"><summary>STEP: 7 要素の種類数</summary>
<header><h3>要素の種類数</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
print(len(set(A)))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = {int(input()) for _ in range(N)}
print(len(A))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストをセットに変換すると、要素の重複分が削除されます。この時の残った要素数がそのまま結果となります。</p>
<p>例２は初めからセットで受け取っています。</p>
<p>セット(集合)については「<a href="../../2/0090set.html" class="linked" target="_blank">２章 セットさんは重複を許さない</a>」で学習できます。</p>
</ul>
<footer><a class="backto" href="#c1-7" onclick="closeAccordion('c1-7')">STEP: 7 要素の種類数</a></footer>
</details>
</article>

<article>
<details id="c1-8"><summary>FINAL問題 【配列を参照する操作】全ての要素に対する操作</summary>
<header><h3>【配列を参照する操作】全ての要素に対する操作</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, K = map(int, input().split())
A = [int(input()) for _ in range(N)]
for num in A:
    print(num + K)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの先頭から順に要素を拾い、その値に <code>K</code> を足したものを画面に出力していきます。</p>
</ul>
<footer><a class="backto" href="#c1-8" onclick="closeAccordion('c1-8')">FINAL問題 【配列を参照する操作】全ての要素に対する操作</a></footer>
</details>
</article>
<footer><a class="backto" href="#" onclick="closeAccordion('c1')">【配列を参照する操作】全ての要素に対する操作</a></footer>
</details>
</section>

<section>
<details id="c2"><summary>【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</summary>
<header><h2>【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</h2></header>
<article>
<details id="c2-1"><summary>STEP: 1 配列の順序の反転</summary>
<header><h3>配列の順序の反転</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
for num in A[::-1]:
    print(num)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
for num in reversed(A):
    print(num)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>もう１つ、<strong class="func">.reverse()</strong>メソッドもありますが、<strong class="for"></strong>文を使って要素を１つ１つ表示していくだけですので、リストの中身を書き換えてしまう<strong class="func">.reverse()</strong>メソッドは使わないほうがよろしいかと思います。</p>
</ul>
<footer><a class="backto" href="#c2-1" onclick="closeAccordion('c2-1')">STEP: 1 配列の順序の反転</a></footer>
</details>
</article>

<article>
<details id="c2-2"><summary>STEP: 2 変数の入れ替え</summary>
<header><h3>変数の入れ替え</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">X, Y = map(int, input().split())
X, Y = Y, X
print(X, Y)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>「2 つの変数の中身を入れ替えた後の」とありますので、<code>print(Y, X)</code> とはせずに、値を入れ替えてから <code>print(X, Y)</code> と出力します。</p>
</ul>
<footer><a class="backto" href="#c2-2" onclick="closeAccordion('c2-2')">STEP: 2 変数の入れ替え</a></footer>
</details>
</article>

<article>
<details id="c2-3"><summary>STEP: 3 指定要素の入れ替え</summary>
<header><h3>指定要素の入れ替え</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
X, Y = map(int, input().split())

A[X-1], A[Y-1] = A[Y-1], A[X-1]
print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>どうでしょう？スワップにはもう慣れましたか？😸</p>
</ul>
<footer><a class="backto" href="#c2-3" onclick="closeAccordion('c2-3')">STEP: 3 指定要素の入れ替え</a></footer>
</details>
</article>

<article>
<details id="c2-4"><summary>STEP: 4 末尾への要素の追加</summary>
<header><h3>末尾への要素の追加</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
B = int(input())

A.append(B)
print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>リストの末尾への要素の追加は<strong class="func">.append()</strong>メソッドを使います。</p>
</ul>
<footer><a class="backto" href="#c2-4" onclick="closeAccordion('c2-4')">STEP: 4 末尾への要素の追加</a></footer>
</details>
</article>

<article>
<details id="c2-5"><summary>STEP: 5 指定位置への要素の追加</summary>
<header><h3>指定位置への要素の追加</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
n, B = map(int, input().split())

A.insert(n, B)
print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>要素の<strong>挿入</strong>は<strong class="func">.insert()</strong>メソッドを使います。要素番号 n に B を要素として挿入します。</p>
<p>問題文には「B を A_n の後ろに追加」とありますが、n は 1 番目から数え、要素番号は 0 番目から数えますので、n に 1 を足さずにそのまま n と書いて大丈夫です。</p>
<div class="x-fit" >
<table>
<tbody class="text-center">
<tr>
<td>n 番目</td>
<td>1</td>
<td style="color:blue; font-weight: bold;">2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>要素番号</td>
<td>0</td>
<td>1</td>
<td><strong>2</strong></td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<p><mark>2 番目の後ろ</mark>は、要素番号 1 の後ろの <mark>要素番号 2</mark> のこと。</p>
</ul>
<footer><a class="backto" href="#c2-5" onclick="closeAccordion('c2-5')">STEP: 5 指定位置への要素の追加</a></footer>
</details>
</article>

<article>
<details id="c2-6"><summary>STEP: 6 指定要素の削除</summary>
<header><h3>指定要素の削除</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
n = int(input())

del A[n-1]
print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
n = int(input())

A.pop(n-1)
print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>削除する要素番号を間違えないように気を付けてくださいね。</p>
<div class="x-fit" >
<table>
<tbody class="text-center">
<tr>
<td>n 番目</td>
<td>1</td>
<td style="color:blue; font-weight: bold;">2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>要素番号</td>
<td>0</td>
<td><strong>1</strong></td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<p><mark>2 番目</mark>は、要素番号 1 のこと。</p>
</ul>
<footer><a class="backto" href="#c2-6" onclick="closeAccordion('c2-6')">STEP: 6 指定要素の削除</a></footer>
</details>
</article>

<article>
<details id="c2-7"><summary>STEP: 7 九九表</summary>
<header><h3>九九表</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">kuku = []
for i in range(1, 10):
    kuku.append([])
    for j in range(1, 10):
        kuku[i-1].append(i * j)

for result in kuku:
    print(*result)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">kuku = []
for i in range(1, 10):
    kuku.append([i*j for j in range(1, 10)])

for result in kuku:
    print(*result)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例３</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">kuku = [[i*j for j in range(1, 10)] for i in range(1, 10)]

for result in kuku:
    print(*result)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例４</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">for i in range(1, 10):
    print(*range(i, i*9+1, i))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>例１は、掛け算の結果を１つずつリストに格納していってます。<br>例２は、九九の段数ごとにリストを作ってから <code>kuku</code> に追加していってます。<br>例３は、内包表記を使って一息に書いたものです。<br>例４は、掛け算ではなく、<strong class="func">range()</strong>関数の <em>step</em> の機能だけで並べたものです。</p>
<p>どれが正しいということはありませんし、他にもまだ書き方があります。</p>
</ul>
<footer><a class="backto" href="#c2-7" onclick="closeAccordion('c2-7')">STEP: 7 九九表</a></footer>
</details>
</article>

<article>
<details id="c2-8"><summary>STEP: 8 全ての要素を用いた処理</summary>
<header><h3>全ての要素を用いた処理</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]
for i in range(1, N):
    for j in range(i):
        print(A[i] * A[j])
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>二重ループを用いて器用にも重複しない組み合わせを作っています。この二重ループがどのように動いているのかを見える化してみます。プログラム例と見比べてみてください。</p>
<p>N = 5 の時</p>
<div class="x-fit">
<table>
<thead class="text-center">
<th>i</th>
<th colspan="4">j</th>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<p>i と j の列を左右反対にしてみるとわかりやすく、見事に組み合わさっているのがわかると思います。i を 0 から始めても j が１回もループしないので、i は 1 からスタートしています。</p>
<p>あとはこの i と j を添字にして、この組み合わせで掛け算して画面に出力していきます。組み合わせ問題は難しいですね。😓</p>
</ul>
<footer><a class="backto" href="#c2-8" onclick="closeAccordion('c2-8')">STEP: 8 全ての要素を用いた処理</a></footer>
</details>
</article>

<article>
<details id="c2-9"><summary>STEP: 9 配列のサイズの変更</summary>
<header><h3>配列のサイズの変更</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, n = map(int, input().split())
A = [int(input()) for _ in range(N)]

result = [0] * n
for i in range(N):
    if i < n:
        result[i] = A[i]

print(*result, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>難しく書かれていますけど、要するにやることは<strong>ゼロマップ</strong>( 0 で埋め尽された配列)をつくってから所定の要素の値を書き換えるだけです。今回は <mark>リストA</mark> の先頭から n 番目までの要素を、ゼロマップの先頭から n 番目までに書き写すだけです。<br>ゼロマップの要素数より書き写した要素数のほうが少ないと、手を付けられていない 0 がそのまま残ります。それが問題文の最後にある「サイズが合うように 0 を A の要素の末尾に追加してください。」の結果となります。</p>
<p>N = 3, n = 5, A = [1, 2, 3] の時</p>
<div class="x-fit" >
<table>
<tbody class="text-center">
<tr>
<td>n 番目</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>リスト A</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>↓ 3 番目までを 1, 2, 3 で書き換えると・・・</p>
<div class="x-fit" >
<table>
<tbody class="text-center">
<tr>
<td>n 番目</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>リスト A</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td><strong>0</strong></td>
<td><strong>0</strong></td>
</tr>
</tbody>
</table>
</div>
<br>
<p><strong>ゼロマップを作る</strong>ことはよくあります。<mark>[0] * n</mark> という書き方は憶えておきましょう。</p>
</ul>
<footer><a class="backto" href="#c2-9" onclick="closeAccordion('c2-9')">STEP: 9 配列のサイズの変更</a></footer>
</details>
</article>

<article>
<details id="c2-10"><summary>STEP: 10 重複要素の削除</summary>
<header><h3>重複要素の削除</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = list(map(int, input().split()))

B = []
for num in A:
    if num not in B:
        B.append(num)

print(*B, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>要するに、<strong class="b">「要素の順番を変えずに重複した要素を削除していく」</strong>ということです。セットに変換すると順番がめちゃくちゃになりますので、リストのまま地道に作業していきます。</p>
<p>新たに配列 B を作成するということなので、「値が <mark>リストB</mark> にすでにある場合」はなにもせず、初めて登場する値だけを <mark>リストB</mark> に追加していきます。</p>
</ul>
<footer><a class="backto" href="#c2-10" onclick="closeAccordion('c2-10')">STEP: 10 重複要素の削除</a></footer>
</details>
</article>

<article>
<details id="c2-11"><summary>FINAL問題 【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</summary>
<header><h3>【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, K = map(int, input().split())
A = [int(input()) for _ in range(N)]

B = []
for num in A:
    if num >= K:
        B.append(num)

print(*B, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p><mark>リストB</mark> を作成する条件が変わっただけで、１つ前の問題「重複要素の削除」とほぼ同じプログラムになります。</p>
</ul>
<footer><a class="backto" href="#c2-11" onclick="closeAccordion('c2-11')">FINAL問題 【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</a></footer>
</details>
</article>

<footer><a class="backto" href="#" onclick="closeAccordion('c2')">【配列への副作用を伴う操作】条件を満たす要素のみの配列作成</a></footer>
</details>
</section>

<section>
<details id="c3"><summary>【配列に対しての複雑な処理】集団行動</summary>
<header><h2>【配列に対しての複雑な処理】集団行動</h2></header>

<article>
<details id="c3-1"><summary>STEP: 1 傾斜配点</summary>
<header><h3>傾斜配点</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
M = list(map(int, input().split()))  # 各科目の重み

points = [0] * N  # 各受験者の５科目の合計点
for i in range(N):
    A = list(map(int, input().split()))

    for j in range(5):
        points[i] += A[j] * M[j]  # 重みを掛ける

print(max(points))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>まず人数分のゼロマップ(<code>points</code>)を作成しておきます。ここに各受験者の最終得点が記録されます。</p>
<p>次にループで各受験者の各科目の得点に重みを掛けていきます。全ての受験者の計算を終えると、<code>points</code> には各受験者の最終得点が格納されています。</p>
<p>このリストから最大値を取って画面に出力すれば完了です。</p>
</ul>
<footer><a class="backto" href="#c3-1" onclick="closeAccordion('c3-1')">STEP: 1 傾斜配点</a></footer>
</details>
</article>

<article>
<details id="c3-2"><summary>STEP: 2 内定</summary>
<header><h3>内定</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, K, M = map(int, input().split())
A = [int(input()) >= K for _ in range(N)]

result = max(sum(A) - M, 0)

print(result)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>極力簡潔な書き方をしましたが、このプログラム例で解説します。</p>
<p>二行目の標準入力の所で、入力と同時にいきなり K 点以上の人かどうかを、比較式を使って判定しています。</p>
<p>N = 5, K = 3974, M = 0<br><mark>A_i</mark> が<br>2049<br>4690<br>6867<br>3414<br>460 の時</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">A = [False, True, True, False, False]
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>となります。</p>
<p>次に<strong class="func">sum(A)</strong>についてですが、数値でないのに総和を求めようとしています。これは「<a href="../../2/0020truefalse.html#c2-h" class="linked" target="_blank">２章 bool型 True と False</a>」で詳しく説明していますが、<code>True</code> は <code>1</code>、<code>False</code> は <code>0</code> でもあります。この特性があるゆえに<strong class="func">sum()</strong>関数で総和を求めることが出来るのです。<br>上の <mark>リストA</mark> の場合は、</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">A = [0, 1, 1, 0, 0]
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>と同等になります。</p>
<p><code>max(sum(A) - M, 0)</code> は、<mark>sum(A) - M</mark> と <mark>0</mark> の大きいほうが最大値として選ばれます。もし <mark>sum(A) - M</mark> でマイナスの値(負数)になった場合は <mark>0</mark> のほうが大きいので、<mark>0</mark> が最大値として選ばれます。つまり最低でも「 0 人」となるわけです。<br>この<strong class="func">max()</strong>関数の使用目的は、最大値や、より大きいほうを求めているというよりは「最低値を設定している」と言うほうが適切と言えます。憶えておくといつか役に立ちます。😸</p>
このリスト内包表記の書き方は「<a href="../../2/0110list_comprehension.html#c3-1h" class="linked" target="_blank">２章 内包表記</a>」で学習できます。
</ul>
<footer><a class="backto" href="#c3-2" onclick="closeAccordion('c3-2')">STEP: 2 内定</a></footer>
</details>
</article>

<article>
<details id="c3-3"><summary>STEP: 3 queue (9) 係</summary>
<header><h3>queue (9) 係</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())

A = []
for _ in range(N):
    S = input().split()

    if S[0] == 'in':
        A.append(S[1])
    elif S[0] == 'out' and A:
        A.pop(0)

print(*A, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>queue は「<strong class="special">キュー</strong>」と読みます。初期の <mark>リストA</mark> は空の状態で初期化します。</p>
<p>次に N 個の指示を受け取るのですが、'in' と 'out' で受け取る要素数が異なります。ここは一旦 <code>input().split()</code> で受け取ります。</p>
<p>受け取った指示 <code>S</code> の要素番号 0 には 'in' か 'out' が入っていますので、これを使って<strong class="if"></strong>文をつくります。</p>
<p>'in' の時は、<code>S</code> の要素番号 1 に整数 n が入っています。これを <mark>リストA</mark> の末尾に追加します。<br>'out' の時は、<mark>リストA</mark> の先頭の要素を削除するのですが、<mark>リストA</mark> が空の場合は何もしないことになっています。何もない要素を削除しようとするとエラーになりますので、リストの中身が空かどうかを調べる必要があります。</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">A = []
A.pop(0)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="plaintext">Traceback (most recent call last):
  File "Main.py", line 2, in <module>
    A.pop(0)
IndexError: pop from empty list
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p><code>elif ～ and <strong>A</strong></code> という所で、リストが空かどうかをチェックしています。<br>これについては「<a href="../../2/0020truefalse.html#c4-h" class="linked" target="_blank">２章 bool型 True と False</a>」で学習できます。</p>
<p>「<code>S[0]</code> が <code>'out'</code> の時、且つ、<mark>リストA</mark> に要素がある時」に、<mark>リストA</mark> の先頭の要素を削除します。</p>
<p>それ以外の時は、なにもしません。<code>else:</code> 以降を省略しています。なにもしないから何も書くことないし～。</p>
<p>また、こういう書き方もできます。</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">if S[0] == 'in':
    A.append(S[1])
else:
    del A[:1]
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>スライスは指定の範囲に要素が存在していなくてもエラーにはなりません。しかし <strong>else</strong> は「その他全ての条件」を受け入れてしまいますので、意図しない動作を生んでしまう恐れがあります。</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">if S[0] == 'in':
    A.append(S[1])
elif S[0] == 'out':
    del A[:1]
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>これなら少しは安心です。😽</p>
<p>最後に <mark>リストA</mark> を画面に出力して完了となります。</p>
</ul>
<footer><a class="backto" href="#c3-3" onclick="closeAccordion('c3-3')">STEP: 3 queue (9) 係</a></footer>
</details>
</article>

<article>
<details id="c3-4"><summary>STEP: 4 二人三脚</summary>
<header><h3>二人三脚</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N = int(input())
A = [int(input()) for _ in range(N)]

pairs = [0, 0]  # 身長差が最も小さい２人の身長
min_ = float('inf')  # 最も小さい身長差
for i in range(1, N):
    for j in range(i):
        if (tmp := abs(A[i] - A[j])) < min_:
            pairs[0] = A[i]
            pairs[1] = A[j]
            min_ = tmp

print(*sorted(pairs), sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>これはこの前の<strong class="b">「【配列への副作用を伴う操作】条件を満たす要素のみの配列作成」</strong>の<strong class="b">「STEP: 8 全ての要素を用いた処理」</strong>と同じ方法の組み合わせ問題ですね。</p>
<p>真ん中あたりにある <mark>:=</mark> については「<a href="../../3/0060extra.html#c2-5h" class="linked" target="_blank">３章 補足</a>」で学習できます。</p>
<p><strong class="if"></strong>文は、もし現在の身長差の最小値を下回る組み合わせが登場したら、<code>pairs</code> と <code>min_</code> を新しい値に更新します。</p>
<p>最後までループし終えたら身長を昇順ソートし、画面に出力して完了です。</p>
<p><strong class="func">abs(A[i] - A[j])</strong>は、身長が高いほうから低いほうを引いても、またその逆でも、身長差は同じです。173 - 170 でも 170 - 173 でも３差です。どちらから引いてもいいように絶対値をとって正数に補正しています。</p>
</ul>
<footer><a class="backto" href="#c3-4" onclick="closeAccordion('c3-4')">STEP: 4 二人三脚</a></footer>
</details>
</article>

<article>
<details id="c3-5"><summary>STEP: 5 場所取り</summary>
<header><h3>場所取り</h3></header>
<ul>
<li><p>例１</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, K, F = map(int, input().split())
A = [int(input()) for _ in range(K)]

del A[:F]

order = []
for num in A:
    if num not in order:
        order.append(num)

print(*order, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<li><p>例２</p></li>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, K, F = map(int, input().split())
A = [int(input()) for _ in range(K)]

del A[:F]

order = set()
for num in A:
    if num not in order:
        print(num)
        order.add(num)
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>まず先頭から F 個の要素を削除します。スライスを使って削除する場合は <strong>del</strong> を使います。<strong class="func">.pop()</strong>は１つの要素しか扱えません。</p>
<p>残りの部分は、要素の順番を変えずに重複を取り除く作業です。<code>order</code> の中に <code>num</code> があればなにもしない、なければ <code>order</code> に <code>num</code> を追加します。最後に <code>order</code> を画面に出力して完了です。</p>
<p>例２は、登場した値を <code>order</code> に記憶し、すでに登場した値があればなにもしない、初めて登場した値ならば、その場で値を画面に出力していきます。</p>
<p>このメニューの流れで考えれば例１ですが、どちらかというと例２の方法が今後使う機会が多いと思われます。</p>
</ul>
<footer><a class="backto" href="#c3-5" onclick="closeAccordion('c3-5')">STEP: 5 場所取り</a></footer>
</details>
</article>

<article>
<details id="c3-6"><summary>STEP: 6 ボウリング</summary>
<header><h3>ボウリング</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">pins = [int(i) for _ in range(4) for i in input().split()][::-1]
print(pins.index(1) + 1)
print(pins.count(1))
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>一行目の入力のしかたをすると、４行の入力を一次元リストで並べることができます。<br>この時、ピンの配列が 10 → 1 になっているので、これを反転して 1 → 10 にします。</p>
<p>ピンの番号<br>
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1][::-1]<br>↓<br>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</p>
<p>先頭の１番ピンから最初の <code>1</code> を見つけ、その要素番号に 1 を足して画面に出力します。<strong class="func">.index()</strong>は探し物が見つからなかったときにはエラーとなりますが、条件に「少なくとも 1 本のピンが残っていることが保証されています。」とありますので、エラーは起こりません。</p>
<p>最後に <strong class="func">.count(1)</strong> で <code>1</code> の数を数えたものを画面に出力して完了です。</p>
</ul>
<ul>
<p>入力を</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">pins = [list(map(int, input().split())) for _ in range(4)]
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>とすると、二次元リストになります。</p>
<p>pins = [[1, 1, 1, 1], [1, 1, 1], [1, 1], [1]]</p>
<p>これを</p>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">pins = sum(pins, [])
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>とすると、なぜか</p>
<p>pins = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</p>
<p>と、一次元リストになります。ｵｼﾞｻﾝﾋﾞｯｸﾘﾀﾞ<br>数ある方法の中でも処理速度は<strong class="b">最遅</strong>と言われてますが、一番簡単に書ける方法ですので憶えておくといつか役に立つでしょう。</p>
</ul>
<footer><a class="backto" href="#c3-6" onclick="closeAccordion('c3-6')">STEP: 6 ボウリング</a></footer>
</details>
</article>

<article>
<details id="c3-7"><summary>FINAL問題 【配列に対しての複雑な処理】集団行動</summary>
<header><h3>【配列に対しての複雑な処理】集団行動</h3></header>
<ul>
<!-- ------------------------- code ------------------------- -->
<div>
<pre><code class="language-python">N, Q = map(int, input().split())

nums = list(range(1, N+1))

for _ in range(Q):
    S = input().split()
    
    if S[0] == 'reverse':
        nums = nums[::-1]
    elif S[0] == 'resize' and len(nums) > (C:=int(S[1])):
        del nums[C:]
    elif S[0] == 'swap':
        A, B = int(S[1]), int(S[2])
        nums[A-1], nums[B-1] = nums[B-1], nums[A-1]

print(*nums, sep='\n')
</code></pre>
</div>
<!-- ----------------------- code end ----------------------- -->
<p>「STEP: 3 queue (9) 係」と同じ、キューの問題です。各処理内容を落ち着いて考えていけば難しいことはありません。</p>
<p>列の入力は与えられていませんので、自分で作る必要があります。<code>nums = list(range(1, N+1))</code></p>
<p><strong class="for"></strong>文の中で入力を１つずつ受け取り、都度<strong class="if"></strong>文でキューを処理します。<br>最初の<strong class="elif"></strong> の後半は、問題文の「列が既に C 人以下の場合」にあたります。問題文では「何も行わない」とありますが、逆に何かする場合は「列が C 人より多い」条件で式を書きます。それが <code>len(nums) > (C:=int(S[1]))</code> です。</p>
<p>キューの問題ではキューの入力の長さが不規則なことがほとんどです。これをどのように受け取り、読みやすく、理解しやすく書いていくかが難しいところだと思います。プログラム例では問題と照らし合わせやすいように A B C の変数(定数)を使いたかったのでちょっとねじ込む形になりましたけど😅。この先学びを進めていく中で、気分転換にぜひ過去の問題を振り返って書き直したりしてみてください。</p>
<p><code>(C:=int(S[1]))</code> の <mark>:=</mark> については「<a href="../../3/0060extra.html#c2-5h" class="linked" target="_blank">３章 補足</a>」で学習できます。</p>
</ul>
<footer><a class="backto" href="#c3-7" onclick="closeAccordion('c3-7')">FINAL問題 【配列に対しての複雑な処理】集団行動</a></footer>
</details>
</article>
<footer><a class="backto" href="#" onclick="closeAccordion('c3')">【配列に対しての複雑な処理】集団行動</a></footer>
</details>
</section>



</main>



<footer id="ft">
  <p>【paiza問題集 解説】<br>配列活用メニュー</p>
</footer>
</body>
</html>